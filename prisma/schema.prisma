generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model api_academicyear {
  id                         BigInt                       @id @default(autoincrement())
  academic_name              String                       @unique @db.VarChar(50)
  start_date                 DateTime                     @db.Date
  end_date                   DateTime                     @db.Date
  created_at                 DateTime                     @db.Timestamptz(6)
  updated_at                 DateTime                     @db.Timestamptz(6)
  api_combinationsubject     api_combinationsubject[]
  api_programplannedactivity api_programplannedactivity[]
  api_programweeklyreport    api_programweeklyreport[]
  api_weeklyhodreport        api_weeklyhodreport[]
  api_weeklyteacherreport    api_weeklyteacherreport[]

  @@index([academic_name], map: "api_academicyear_academic_name_b682137d_like")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_assessmentstat {
  id                      BigInt                  @id @default(autoincrement())
  type                    String                  @db.VarChar(32)
  count                   Int
  summary                 String
  report_id               BigInt
  api_weeklyteacherreport api_weeklyteacherreport @relation(fields: [report_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_assessmentstat_report_id_91079bdb_fk_api_weekl")

  @@unique([report_id, type], map: "api_assessmentstat_report_id_type_0200aed4_uniq")
  @@index([report_id, type], map: "api_assessm_report__62d378_idx")
  @@index([report_id], map: "api_assessmentstat_report_id_91079bdb")
}

model api_author {
  id          BigInt     @id @default(autoincrement())
  author_name String     @db.VarChar(500)
  api_book    api_book[]
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_book {
  id              BigInt           @id @default(autoincrement())
  book_name       String           @db.VarChar(500)
  isbnumber       String           @db.VarChar(100)
  number_of_books String           @db.VarChar(30)
  author_id       BigInt
  category_id     BigInt
  api_author      api_author       @relation(fields: [author_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_book_author_id_85dc432b_fk_api_author_id")
  api_category    api_category     @relation(fields: [category_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_book_category_id_852cf465_fk_api_category_id")
  api_issue_book  api_issue_book[]

  @@index([author_id], map: "api_book_author_id_85dc432b")
  @@index([category_id], map: "api_book_category_id_852cf465")
}

model api_category {
  id            BigInt     @id @default(autoincrement())
  category_name String     @db.VarChar(500)
  api_book      api_book[]
}

model api_college {
  id                   BigInt                 @id @default(autoincrement())
  college_name         String                 @db.VarChar(100)
  country              String                 @db.VarChar(100)
  city                 String                 @db.VarChar(100)
  api_furthereducation api_furthereducation[]
}

model api_combination {
  id                     BigInt                   @id @default(autoincrement())
  combination_name       String                   @db.VarChar(100)
  abbreviation           String                   @db.VarChar(20)
  api_combinationsubject api_combinationsubject[]
  api_kidacademics       api_kidacademics[]
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_combinationsubject {
  id                         BigInt                       @id @default(autoincrement())
  academic_year_id           BigInt
  combination_id             BigInt
  level_id                   BigInt
  subject_id                 BigInt
  api_academicyear           api_academicyear             @relation(fields: [academic_year_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_combinationsubje_academic_year_id_30bb1a01_fk_api_acade")
  api_combination            api_combination              @relation(fields: [combination_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_combinationsubje_combination_id_4971224f_fk_api_combi")
  api_level                  api_level                    @relation(fields: [level_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_combinationsubject_level_id_a15623fa_fk_api_level_id")
  api_subject                api_subject                  @relation(fields: [subject_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_combinationsubject_subject_id_53e9b09c_fk_api_subject_id")
  api_notebookcheck          api_notebookcheck[]
  api_projectlist            api_projectlist[]
  api_teachingassignment     api_teachingassignment[]
  api_unitcombinationsubject api_unitcombinationsubject[]

  @@unique([academic_year_id, level_id, combination_id, subject_id], map: "api_combinationsubject_academic_year_id_level_i_ce95a36a_uniq")
  @@index([academic_year_id, level_id], map: "api_combina_academi_dc751c_idx")
  @@index([combination_id, subject_id], map: "api_combina_combina_2841c8_idx")
  @@index([academic_year_id], map: "api_combinationsubject_academic_year_id_30bb1a01")
  @@index([combination_id], map: "api_combinationsubject_combination_id_4971224f")
  @@index([level_id], map: "api_combinationsubject_level_id_a15623fa")
  @@index([subject_id], map: "api_combinationsubject_subject_id_53e9b09c")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_comment {
  id             BigInt         @id @default(autoincrement())
  content        String
  created_at     DateTime       @db.Timestamptz(6)
  updated_at     DateTime       @db.Timestamptz(6)
  author_id      BigInt
  post_id        BigInt
  api_simpleuser api_simpleuser @relation(fields: [author_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_comment_author_id_c45b2dbf_fk_api_simpleuser_id")
  api_post       api_post       @relation(fields: [post_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_comment_post_id_251fc0c3_fk_api_post_id")

  @@index([author_id], map: "api_comment_author_id_c45b2dbf")
  @@index([post_id], map: "api_comment_post_id_251fc0c3")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_department {
  id                       BigInt                     @id @default(autoincrement())
  name                     String                     @unique @db.VarChar(100)
  description              String
  hod_id                   BigInt
  api_user                 api_user                   @relation(fields: [hod_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_department_hod_id_843a9d96_fk_api_user_id")
  api_departmentmembership api_departmentmembership[]
  api_weeklyhodreport      api_weeklyhodreport[]

  @@index([hod_id], map: "api_department_hod_id_843a9d96")
  @@index([name], map: "api_department_name_b9621d40_like")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_departmentmembership {
  id             BigInt         @id @default(autoincrement())
  role           String         @db.VarChar(20)
  joined_at      DateTime?      @db.Date
  left_at        DateTime?      @db.Date
  department_id  BigInt
  teacher_id     BigInt
  api_department api_department @relation(fields: [department_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_departmentmember_department_id_4279224e_fk_api_depar")
  api_user       api_user       @relation(fields: [teacher_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_departmentmembership_teacher_id_ac4d0678_fk_api_user_id")

  @@unique([department_id, teacher_id], map: "api_departmentmembership_department_id_teacher_id_ed6132d0_uniq")
  @@index([department_id, role], map: "api_departm_departm_619c34_idx")
  @@index([department_id], map: "api_departmentmembership_department_id_4279224e")
  @@index([teacher_id], map: "api_departmentmembership_teacher_id_ac4d0678")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_eap {
  id                 BigInt               @id @default(autoincrement())
  last_name          String               @db.VarChar(100)
  first_name         String               @db.VarChar(100)
  current_class_id   BigInt?
  student_school_id  BigInt?
  api_eapclass       api_eapclass?        @relation(fields: [current_class_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_eap_current_class_id_cf521641_fk_api_eapclass_id")
  api_school         api_school?          @relation(fields: [student_school_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_eap_student_school_id_1c9259b1_fk_api_school_id")
  api_eapabsenteeism api_eapabsenteeism[]

  @@index([current_class_id], map: "api_eap_current_class_id_cf521641")
  @@index([student_school_id], map: "api_eap_student_school_id_1c9259b1")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_eapabsenteeism {
  id                          BigInt                        @id @default(autoincrement())
  status                      String                        @db.VarChar(10)
  created_at                  DateTime                      @db.Timestamptz(6)
  date                        DateTime                      @db.Date
  student_id                  BigInt
  api_eap                     api_eap                       @relation(fields: [student_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_eapabsenteeism_student_id_5bbf0ed3_fk_api_eap_id")
  api_eapattendance_absentees api_eapattendance_absentees[]

  @@index([student_id], map: "api_eapabsenteeism_student_id_5bbf0ed3")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_eapattendance {
  id                          BigInt                        @id @default(autoincrement())
  date                        DateTime                      @db.Date
  created_at                  DateTime                      @db.Timestamptz(6)
  eap_class_id                BigInt
  staff_id                    BigInt
  status                      String?                       @db.VarChar
  eap_student_id              BigInt?
  api_eapclass                api_eapclass                  @relation(fields: [eap_class_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_eapattendance_eap_class_id_e07b9e4d_fk_api_eapclass_id")
  api_user                    api_user                      @relation(fields: [staff_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_eapattendance_staff_id_150e59da_fk_api_user_id")
  api_eapattendance_absentees api_eapattendance_absentees[]

  @@index([eap_class_id], map: "api_eapattendance_eap_class_id_e07b9e4d")
  @@index([staff_id], map: "api_eapattendance_staff_id_150e59da")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_eapattendance_absentees {
  id                 BigInt             @id @default(autoincrement())
  eapattendance_id   BigInt
  eapabsenteeism_id  BigInt
  api_eapabsenteeism api_eapabsenteeism @relation(fields: [eapabsenteeism_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_eapattendance_ab_eapabsenteeism_id_d3b5f6d8_fk_api_eapab")
  api_eapattendance  api_eapattendance  @relation(fields: [eapattendance_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_eapattendance_ab_eapattendance_id_b93b347b_fk_api_eapat")

  @@unique([eapattendance_id, eapabsenteeism_id], map: "api_eapattendance_absent_eapattendance_id_eapabse_ab83f583_uniq")
  @@index([eapabsenteeism_id], map: "api_eapattendance_absentees_eapabsenteeism_id_d3b5f6d8")
  @@index([eapattendance_id], map: "api_eapattendance_absentees_eapattendance_id_b93b347b")
}

model api_eapclass {
  id                BigInt              @id @default(autoincrement())
  name              String              @db.VarChar(100)
  academic_year     Int
  api_eap           api_eap[]
  api_eapattendance api_eapattendance[]

  @@unique([name, academic_year], map: "api_eapclass_name_academic_year_7ca21eb5_uniq")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_employment {
  id                                BigInt                              @id @default(autoincrement())
  title                             String                              @db.VarChar(5000)
  status                            String                              @db.VarChar(2)
  industry                          String                              @db.VarChar(100)
  description                       String                              @db.VarChar(2000)
  company                           String                              @db.VarChar(2000)
  on_going                          Boolean
  crc_support                       Boolean
  is_approved                       Boolean
  approved_at                       DateTime?                           @db.Timestamptz(6)
  start_date                        String                              @db.VarChar(100)
  end_date                          String?                             @db.VarChar(100)
  alumn_id                          BigInt
  recorded_by_id                    BigInt?
  updated_at                        DateTime                            @db.Timestamptz(6)
  api_kid                           api_kid                             @relation(fields: [alumn_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_employment_alumn_id_c881ce1c_fk_api_kid_id")
  api_user                          api_user?                           @relation(fields: [recorded_by_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_employment_recorded_by_id_bc75eb10_fk_api_user_id")
  api_employment_contributing_leaps api_employment_contributing_leaps[]

  @@index([alumn_id], map: "api_employment_alumn_id_c881ce1c")
  @@index([recorded_by_id], map: "api_employment_recorded_by_id_bc75eb10")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_employment_contributing_leaps {
  id             BigInt         @id @default(autoincrement())
  employment_id  BigInt
  leap_id        BigInt
  api_employment api_employment @relation(fields: [employment_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_employment_contr_employment_id_c6fdef7b_fk_api_emplo")
  api_leap       api_leap       @relation(fields: [leap_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_employment_contr_leap_id_0e3c8a4a_fk_api_leap_")

  @@unique([employment_id, leap_id], map: "api_employment_contribut_employment_id_leap_id_cc330557_uniq")
  @@index([employment_id], map: "api_employment_contributing_leaps_employment_id_c6fdef7b")
  @@index([leap_id], map: "api_employment_contributing_leaps_leap_id_0e3c8a4a")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_event {
  id          BigInt     @id @default(autoincrement())
  title       String     @db.VarChar(5000)
  description String     @db.VarChar(20000)
  e_datetime  DateTime   @db.Timestamptz(6)
  location    String     @db.VarChar(5000)
  image_url   String     @db.VarChar(100)
  user_id     BigInt
  api_user    api_user   @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_event_user_id_5e4590e4_fk_api_user_id")
  api_rsvp    api_rsvp[]

  @@index([user_id], map: "api_event_user_id_5e4590e4")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_family {
  id            BigInt     @id @default(autoincrement())
  family_name   String     @db.VarChar(100)
  family_number String     @db.VarChar(50)
  created_at    DateTime   @db.Timestamptz(6)
  updated_at    DateTime   @db.Timestamptz(6)
  mother_id     BigInt
  grade_id      BigInt?
  api_grade     api_grade? @relation(fields: [grade_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_family_grade_id_25a363d9_fk_api_grade_id")
  api_user      api_user   @relation(fields: [mother_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_family_mother_id_8691f923_fk_api_user_id")
  api_kid       api_kid[]

  @@index([grade_id], map: "api_family_grade_id_25a363d9")
  @@index([mother_id], map: "api_family_mother_id_8691f923")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_furthereducation {
  id                  BigInt      @id @default(autoincrement())
  level               String      @db.VarChar(3)
  degree              String      @db.VarChar(2500)
  scholarship         String      @db.VarChar(3)
  scholarship_details String      @db.VarChar(2000)
  status              String      @db.VarChar(3)
  alumn_id            BigInt
  application_result  String      @db.VarChar(1)
  enrolled            Boolean
  waitlisted          Boolean
  college_id          BigInt
  crc_support         Boolean
  updated_at          DateTime    @db.Timestamptz(6)
  api_kid             api_kid     @relation(fields: [alumn_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_furthereducation_alumn_id_3a17dea5_fk_api_kid_id")
  api_college         api_college @relation(fields: [college_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_furthereducation_college_id_0e3a5db0_fk_api_college_id")

  @@index([alumn_id], map: "api_furthereducation_alumn_id_3a17dea5")
  @@index([college_id], map: "api_furthereducation_college_id_0e3a5db0")
}

model api_grade {
  id                      BigInt       @id @default(autoincrement())
  grade_name              String       @db.VarChar(100)
  admission_year_to_asyv  Int
  graduation_year_to_asyv Int
  created_at              DateTime     @db.Timestamptz(6)
  updated_at              DateTime     @db.Timestamptz(6)
  api_family              api_family[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_homeroomactionitem {
  id                      BigInt                  @id @default(autoincrement())
  text                    String
  is_resolved             Boolean
  priority                Int                     @db.SmallInt
  created_at              DateTime                @db.Timestamptz(6)
  report_id               BigInt
  api_weeklyteacherreport api_weeklyteacherreport @relation(fields: [report_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_homeroomactionit_report_id_e88df77a_fk_api_weekl")

  @@index([report_id], map: "api_homeroomactionitem_report_id_e88df77a")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_incidentnote {
  id                      BigInt                  @id @default(autoincrement())
  kind                    String                  @db.VarChar(20)
  text                    String
  action_taken            String
  created_at              DateTime                @db.Timestamptz(6)
  report_id               BigInt
  student_id              BigInt?
  api_weeklyteacherreport api_weeklyteacherreport @relation(fields: [report_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_incidentnote_report_id_2a903c6f_fk_api_weekl")
  api_user                api_user?               @relation(fields: [student_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_incidentnote_student_id_94b84f13_fk_api_user_id")

  @@index([kind, created_at], map: "api_inciden_kind_f160ed_idx")
  @@index([report_id], map: "api_incidentnote_report_id_2a903c6f")
  @@index([student_id], map: "api_incidentnote_student_id_94b84f13")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_issue_book {
  id             BigInt   @id @default(autoincrement())
  library_number String   @db.VarChar(30)
  issuedate      String   @db.VarChar(70)
  returndate     String   @db.VarChar(70)
  book_id        BigInt
  borrower_id    BigInt
  api_book       api_book @relation(fields: [book_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_issue_book_book_id_86ea2b22_fk_api_book_id")
  api_user       api_user @relation(fields: [borrower_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_issue_book_borrower_id_9e51e170_fk_api_user_id")

  @@index([book_id], map: "api_issue_book_book_id_86ea2b22")
  @@index([borrower_id], map: "api_issue_book_borrower_id_9e51e170")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_kid {
  id                              BigInt                      @id @default(autoincrement())
  origin_district                 String                      @db.VarChar(100)
  origin_sector                   String                      @db.VarChar(100)
  current_district_or_city        String                      @db.VarChar(100)
  current_county                  String                      @db.VarChar(100)
  health_issue                    String?
  marital_status                  String                      @db.VarChar(20)
  life_status                     String                      @db.VarChar(20)
  has_children                    Boolean
  points_in_national_exam         Decimal?                    @db.Decimal(5, 2)
  maximum_points_in_national_exam Decimal?                    @db.Decimal(5, 2)
  mention                         String?
  created_at                      DateTime                    @db.Timestamptz(6)
  user_id                         BigInt                      @unique(map: "api_kid_user_id_871992ed_uniq")
  family_id                       BigInt?
  graduation_status               String                      @db.VarChar(50)
  updated_at                      DateTime                    @db.Timestamptz(6)
  api_employment                  api_employment[]
  api_furthereducation            api_furthereducation[]
  api_family                      api_family?                 @relation(fields: [family_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_kid_family_id_cbecd534_fk_api_family_id")
  api_user                        api_user                    @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_kid_user_id_871992ed_fk_api_user_id")
  api_kidacademics                api_kidacademics[]
  api_kidleap                     api_kidleap[]
  api_nationalsubjectresult       api_nationalsubjectresult[]

  @@index([family_id], map: "api_kid_family_id_cbecd534")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_kidacademics {
  id              BigInt          @id @default(autoincrement())
  academic_year   Int
  combination_id  BigInt
  kid_id          BigInt
  level           String          @db.VarChar(10)
  marks           Float
  report_card     String?         @db.VarChar(100)
  uploaded_at     DateTime?       @db.Timestamptz(6)
  api_combination api_combination @relation(fields: [combination_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_kidacademics_combination_id_c7576007_fk_api_combination_id")
  api_kid         api_kid         @relation(fields: [kid_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_kidacademics_kid_id_7b199f02_fk_api_kid_id")

  @@unique([kid_id, academic_year], map: "api_kidacademics_kid_id_academic_year_bf456834_uniq")
  @@index([combination_id], map: "api_kidacademics_combination_id_c7576007")
  @@index([kid_id], map: "api_kidacademics_kid_id_7b199f02")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_kidleap {
  id             BigInt    @id @default(autoincrement())
  is_approved    Boolean
  approved_at    DateTime? @db.Timestamptz(6)
  created_at     DateTime  @db.Timestamptz(6)
  updated_at     DateTime  @db.Timestamptz(6)
  kid_id         BigInt
  leap_id        BigInt
  recorded_by_id BigInt?
  api_kid        api_kid   @relation(fields: [kid_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_kidleap_kid_id_5f931d8d_fk_api_kid_id")
  api_leap       api_leap  @relation(fields: [leap_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_kidleap_leap_id_61871685_fk_api_leap_id")
  api_user       api_user? @relation(fields: [recorded_by_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_kidleap_recorded_by_id_c7237a72_fk_api_user_id")

  @@unique([kid_id, leap_id], map: "api_kidleap_kid_id_leap_id_2423b950_uniq")
  @@index([kid_id], map: "api_kidleap_kid_id_5f931d8d")
  @@index([leap_id], map: "api_kidleap_leap_id_61871685")
  @@index([recorded_by_id], map: "api_kidleap_recorded_by_id_c7237a72")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_leap {
  id                                BigInt                              @id @default(autoincrement())
  ep                                String                              @db.VarChar(100)
  leap_category                     String                              @db.VarChar(20)
  created_at                        DateTime                            @db.Timestamptz(6)
  updated_at                        DateTime                            @db.Timestamptz(6)
  approved_at                       DateTime?                           @db.Timestamptz(6)
  is_approved                       Boolean
  recorded_by_id                    BigInt?
  api_employment_contributing_leaps api_employment_contributing_leaps[]
  api_kidleap                       api_kidleap[]
  api_user                          api_user?                           @relation(fields: [recorded_by_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_leap_recorded_by_id_181314b7_fk_api_user_id")

  @@index([recorded_by_id], map: "api_leap_recorded_by_id_181314b7")
}

model api_level {
  id                       BigInt                     @id @default(autoincrement())
  label                    String                     @db.VarChar(50)
  api_combinationsubject   api_combinationsubject[]
  api_programabsenteeentry api_programabsenteeentry[]
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_like {
  id             BigInt         @id @default(autoincrement())
  created_at     DateTime       @db.Timestamptz(6)
  user_id        BigInt
  post_id        BigInt
  api_post       api_post       @relation(fields: [post_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_like_post_id_73dc0aac_fk_api_post_id")
  api_simpleuser api_simpleuser @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_like_user_id_cf2ea3c1_fk_api_simpleuser_id")

  @@unique([user_id, post_id], map: "api_like_user_id_post_id_28cc0242_uniq")
  @@index([post_id], map: "api_like_post_id_73dc0aac")
  @@index([user_id], map: "api_like_user_id_cf2ea3c1")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_mediafile {
  id                   BigInt               @id @default(autoincrement())
  file                 String               @db.VarChar(100)
  is_image             Boolean
  is_video             Boolean
  caption              String?              @db.VarChar(255)
  news_announcement_id BigInt
  api_newsannouncement api_newsannouncement @relation(fields: [news_announcement_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_mediafile_news_announcement_id_c205aefc_fk_api_newsa")

  @@index([news_announcement_id], map: "api_mediafile_news_announcement_id_c205aefc")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_message {
  id                                         BigInt   @id @default(autoincrement())
  content                                    String
  timestamp                                  DateTime @db.Timestamptz(6)
  is_read                                    Boolean
  receiver_id                                BigInt
  sender_id                                  BigInt
  api_user_api_message_receiver_idToapi_user api_user @relation("api_message_receiver_idToapi_user", fields: [receiver_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_message_receiver_id_9e3e54d3_fk_api_user_id")
  api_user_api_message_sender_idToapi_user   api_user @relation("api_message_sender_idToapi_user", fields: [sender_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_message_sender_id_fa6d8ff2_fk_api_user_id")

  @@index([receiver_id], map: "api_message_receiver_id_9e3e54d3")
  @@index([sender_id], map: "api_message_sender_id_fa6d8ff2")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_nationalsubjectresult {
  id          BigInt      @id @default(autoincrement())
  grade       String      @db.VarChar(1)
  marks       Decimal?    @db.Decimal(5, 2)
  kid_id      BigInt
  subject_id  BigInt
  api_kid     api_kid     @relation(fields: [kid_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_nationalsubjectresult_kid_id_7498b600_fk_api_kid_id")
  api_subject api_subject @relation(fields: [subject_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_nationalsubjectresult_subject_id_5dbdcab1_fk_api_subject_id")

  @@unique([kid_id, subject_id], map: "api_nationalsubjectresult_kid_id_subject_id_32cb03b5_uniq")
  @@index([kid_id], map: "api_nationalsubjectresult_kid_id_7498b600")
  @@index([subject_id], map: "api_nationalsubjectresult_subject_id_5dbdcab1")
}

model api_newsannouncement {
  id             BigInt          @id @default(autoincrement())
  title          String          @db.VarChar(255)
  content        String
  in_short       String          @db.VarChar(500)
  type           String          @db.VarChar(2)
  published_date DateTime        @db.Timestamptz(6)
  updated_date   DateTime        @db.Timestamptz(6)
  api_mediafile  api_mediafile[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_notebookcheck {
  id                      BigInt                  @id @default(autoincrement())
  count                   Int
  summary                 String
  report_id               BigInt
  subject_comb_id         BigInt?
  api_weeklyteacherreport api_weeklyteacherreport @relation(fields: [report_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_notebookcheck_report_id_5d34d66d_fk_api_weekl")
  api_combinationsubject  api_combinationsubject? @relation(fields: [subject_comb_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_notebookcheck_subject_comb_id_ac343a8a_fk_api_combi")

  @@unique([report_id, subject_comb_id], map: "api_notebookcheck_report_id_subject_comb_id_b13f86a9_uniq")
  @@index([report_id, subject_comb_id], map: "api_noteboo_report__62fcf7_idx")
  @@index([report_id], map: "api_notebookcheck_report_id_5d34d66d")
  @@index([subject_comb_id], map: "api_notebookcheck_subject_comb_id_ac343a8a")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_opportunity {
  id           BigInt   @id @default(autoincrement())
  title        String   @db.VarChar(5000)
  op_type      String   @db.VarChar(100)
  description  String   @db.VarChar(1000)
  deadline     String   @db.VarChar(1000)
  link         String   @db.VarChar(200)
  approved     Boolean
  post_time    String   @db.VarChar
  user_id      BigInt
  organization String   @db.VarChar(500)
  location     String   @db.VarChar(500)
  api_user     api_user @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_opportunity_user_id_d278e315_fk_api_user_id")

  @@index([user_id], map: "api_opportunity_user_id_d278e315")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_post {
  id             BigInt         @id @default(autoincrement())
  content        String
  image          String?        @db.VarChar(100)
  created_at     DateTime       @db.Timestamptz(6)
  updated_at     DateTime       @db.Timestamptz(6)
  author_id      BigInt
  api_comment    api_comment[]
  api_like       api_like[]
  api_simpleuser api_simpleuser @relation(fields: [author_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_post_author_id_2521e4a1_fk_api_simpleuser_id")

  @@index([author_id], map: "api_post_author_id_2521e4a1")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_programabsenteeentry {
  id                         BigInt                       @id @default(autoincrement())
  notes                      String
  level_id                   BigInt
  report_id                  BigInt
  api_programweeklyreport    api_programweeklyreport      @relation(fields: [report_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programabsenteee_report_id_119cf9e1_fk_api_progr")
  api_level                  api_level                    @relation(fields: [level_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programabsenteeentry_level_id_97297787_fk_api_level_id")
  api_programabsenteestudent api_programabsenteestudent[]

  @@unique([report_id, level_id], map: "api_programabsenteeentry_report_id_level_id_a13e86ad_uniq")
  @@index([report_id, level_id], map: "api_program_report__232ef1_idx")
  @@index([level_id], map: "api_programabsenteeentry_level_id_97297787")
  @@index([report_id], map: "api_programabsenteeentry_report_id_119cf9e1")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_programabsenteestudent {
  id                       BigInt                   @id @default(autoincrement())
  reason                   String                   @db.VarChar(200)
  entry_id                 BigInt
  student_id               BigInt
  api_programabsenteeentry api_programabsenteeentry @relation(fields: [entry_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programabsentees_entry_id_938f0fc8_fk_api_progr")
  api_user                 api_user                 @relation(fields: [student_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programabsenteestudent_student_id_65942dae_fk_api_user_id")

  @@unique([entry_id, student_id], map: "api_programabsenteestudent_entry_id_student_id_1da5486c_uniq")
  @@index([entry_id, student_id], map: "api_program_entry_i_95f8fc_idx")
  @@index([entry_id], map: "api_programabsenteestudent_entry_id_938f0fc8")
  @@index([student_id], map: "api_programabsenteestudent_student_id_65942dae")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_programactivityreport {
  id                         BigInt                     @id @default(autoincrement())
  status                     String                     @db.VarChar(20)
  progress_notes             String
  reported_at                DateTime                   @db.Timestamptz(6)
  planned_activity_id        BigInt
  reported_by_id             BigInt
  weekly_report_id           BigInt?
  api_programplannedactivity api_programplannedactivity @relation(fields: [planned_activity_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programactivityr_planned_activity_id_d6d99ac6_fk_api_progr")
  api_user                   api_user                   @relation(fields: [reported_by_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programactivityr_reported_by_id_dbc2e958_fk_api_user_")
  api_programweeklyreport    api_programweeklyreport?   @relation(fields: [weekly_report_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programactivityr_weekly_report_id_61b657fa_fk_api_progr")

  @@index([planned_activity_id], map: "api_programactivityreport_planned_activity_id_d6d99ac6")
  @@index([reported_by_id], map: "api_programactivityreport_reported_by_id_dbc2e958")
  @@index([weekly_report_id], map: "api_programactivityreport_weekly_report_id_61b657fa")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_programadditionalevent {
  id                      BigInt                  @id @default(autoincrement())
  title                   String                  @db.VarChar(200)
  description             String
  occurred_on             DateTime?               @db.Date
  created_at              DateTime                @db.Timestamptz(6)
  added_by_id             BigInt
  report_id               BigInt
  api_programweeklyreport api_programweeklyreport @relation(fields: [report_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programadditiona_report_id_45b3aef4_fk_api_progr")
  api_user                api_user                @relation(fields: [added_by_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programadditionalevent_added_by_id_e90a5fec_fk_api_user_id")

  @@unique([report_id, title], map: "api_programadditionalevent_report_id_title_ca91783e_uniq")
  @@index([added_by_id], map: "api_programadditionalevent_added_by_id_e90a5fec")
  @@index([report_id], map: "api_programadditionalevent_report_id_45b3aef4")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_programplannedactivity {
  id                        BigInt                      @id @default(autoincrement())
  title                     String                      @db.VarChar(200)
  description               String
  target_week               Int?
  start_date                DateTime?                   @db.Date
  due_date                  DateTime?                   @db.Date
  academic_year_id          BigInt
  owner_id                  BigInt?
  api_programactivityreport api_programactivityreport[]
  api_academicyear          api_academicyear            @relation(fields: [academic_year_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programplannedac_academic_year_id_6927f4c1_fk_api_acade")
  api_user                  api_user?                   @relation(fields: [owner_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programplannedactivity_owner_id_442d1009_fk_api_user_id")

  @@unique([academic_year_id, title], map: "api_programplannedactivity_academic_year_id_title_c4d96b85_uniq")
  @@index([academic_year_id], map: "api_programplannedactivity_academic_year_id_6927f4c1")
  @@index([owner_id], map: "api_programplannedactivity_owner_id_442d1009")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_programreflection {
  id                      BigInt                  @id @default(autoincrement())
  kind                    String                  @db.VarChar(20)
  text                    String
  created_at              DateTime                @db.Timestamptz(6)
  added_by_id             BigInt
  report_id               BigInt
  api_programweeklyreport api_programweeklyreport @relation(fields: [report_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programreflectio_report_id_64673a4b_fk_api_progr")
  api_user                api_user                @relation(fields: [added_by_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programreflection_added_by_id_386addc9_fk_api_user_id")

  @@index([kind, created_at], map: "api_program_kind_609ffb_idx")
  @@index([added_by_id], map: "api_programreflection_added_by_id_386addc9")
  @@index([report_id], map: "api_programreflection_report_id_64673a4b")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_programweeklyreport {
  id                         BigInt                       @id @default(autoincrement())
  week_number                Int
  submitted_at               DateTime                     @db.Timestamptz(6)
  academic_year_id           BigInt
  submitted_by_id            BigInt
  api_programabsenteeentry   api_programabsenteeentry[]
  api_programactivityreport  api_programactivityreport[]
  api_programadditionalevent api_programadditionalevent[]
  api_programreflection      api_programreflection[]
  api_academicyear           api_academicyear             @relation(fields: [academic_year_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programweeklyrep_academic_year_id_14c0210e_fk_api_acade")
  api_user                   api_user                     @relation(fields: [submitted_by_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_programweeklyreport_submitted_by_id_2baa9ef4_fk_api_user_id")

  @@unique([academic_year_id, week_number], map: "api_programweeklyreport_academic_year_id_week_nu_7b063745_uniq")
  @@index([academic_year_id, week_number], map: "api_program_academi_8086af_idx")
  @@index([academic_year_id], map: "api_programweeklyreport_academic_year_id_14c0210e")
  @@index([submitted_by_id], map: "api_programweeklyreport_submitted_by_id_2baa9ef4")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_projectlist {
  id                     BigInt                 @id @default(autoincrement())
  title                  String                 @db.VarChar(200)
  description            String
  term                   String                 @db.VarChar(50)
  created_at             DateTime               @db.Timestamptz(6)
  combination_subject_id BigInt
  api_combinationsubject api_combinationsubject @relation(fields: [combination_subject_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_projectlist_combination_subject__d9430f43_fk_api_combi")
  api_projectreport      api_projectreport[]

  @@unique([combination_subject_id, title], map: "api_projectlist_combination_subject_id_title_904ef4db_uniq")
  @@index([combination_subject_id], map: "api_projectlist_combination_subject_id_d9430f43")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_projectreport {
  id              BigInt          @id @default(autoincrement())
  description     String
  status          String          @db.VarChar(20)
  assigned_on     DateTime?       @db.Date
  due_on          DateTime?       @db.Date
  completed_on    DateTime?       @db.Date
  created_at      DateTime        @db.Timestamptz(6)
  updated_at      DateTime        @db.Timestamptz(6)
  project_list_id BigInt
  api_projectlist api_projectlist @relation(fields: [project_list_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_projectreport_project_list_id_0c95f9fa_fk_api_proje")

  @@index([project_list_id], map: "api_projectreport_project_list_id_0c95f9fa")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_rsvp {
  id        BigInt    @id @default(autoincrement())
  response  String    @db.VarChar(5)
  timestamp DateTime  @db.Timestamptz(6)
  alumni_id BigInt
  event_id  BigInt
  api_user  api_user  @relation(fields: [alumni_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_rsvp_alumni_id_6d3bdc5c_fk_api_user_id")
  api_event api_event @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_rsvp_event_id_86cda5e2_fk_api_event_id")

  @@unique([alumni_id, event_id], map: "api_rsvp_alumni_id_event_id_c2e09e56_uniq")
  @@index([alumni_id], map: "api_rsvp_alumni_id_6d3bdc5c")
  @@index([event_id], map: "api_rsvp_event_id_86cda5e2")
}

model api_school {
  id      BigInt    @id @default(autoincrement())
  name    String    @unique @db.VarChar(100)
  api_eap api_eap[]

  @@index([name], map: "api_school_name_d6c264ae_like")
}

model api_simpleuser {
  id          BigInt        @id @default(autoincrement())
  full_name   String        @db.VarChar(255)
  email       String        @unique @db.VarChar(254)
  password    String        @db.VarChar(255)
  role        String        @db.VarChar(20)
  created_at  DateTime      @db.Timestamptz(6)
  updated_at  DateTime      @db.Timestamptz(6)
  api_comment api_comment[]
  api_like    api_like[]
  api_post    api_post[]

  @@index([email], map: "api_simpleuser_email_f9d168d6_like")
}

model api_subject {
  id                        BigInt                      @id @default(autoincrement())
  subject_name              String                      @db.VarChar(100)
  credits                   Int?
  api_combinationsubject    api_combinationsubject[]
  api_nationalsubjectresult api_nationalsubjectresult[]
  api_unit                  api_unit[]
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_teachingassignment {
  id                      BigInt                    @id @default(autoincrement())
  combo_subject_id        BigInt
  teacher_id              BigInt
  api_combinationsubject  api_combinationsubject    @relation(fields: [combo_subject_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_teachingassignme_combo_subject_id_00953acb_fk_api_combi")
  api_user                api_user                  @relation(fields: [teacher_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_teachingassignment_teacher_id_acc24a6c_fk_api_user_id")
  api_topicprogressreport api_topicprogressreport[]

  @@unique([teacher_id, combo_subject_id], map: "api_teachingassignment_teacher_id_combo_subject_18b8e3e6_uniq")
  @@index([teacher_id, combo_subject_id], map: "api_teachin_teacher_b6b918_idx")
  @@index([combo_subject_id], map: "api_teachingassignment_combo_subject_id_00953acb")
  @@index([teacher_id], map: "api_teachingassignment_teacher_id_acc24a6c")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_topic {
  id                      BigInt                    @id @default(autoincrement())
  number                  Int
  title                   String                    @db.VarChar(200)
  objective               String
  unit_id                 BigInt
  api_unit                api_unit                  @relation(fields: [unit_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_topic_unit_id_acce3ec4_fk_api_unit_id")
  api_topicprogressreport api_topicprogressreport[]

  @@unique([unit_id, number], map: "api_topic_unit_id_number_0c415c29_uniq")
  @@index([unit_id], map: "api_topic_unit_id_acce3ec4")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_topicprogressreport {
  id                     BigInt                 @id @default(autoincrement())
  status                 String                 @db.VarChar(20)
  date_started           DateTime?              @db.Date
  date_completed         DateTime?              @db.Date
  google_doc_url         String                 @db.VarChar(200)
  ppt_url                String                 @db.VarChar(200)
  other_resource_url     String                 @db.VarChar(200)
  notes                  String
  created_at             DateTime               @db.Timestamptz(6)
  updated_at             DateTime               @db.Timestamptz(6)
  assignment_id          BigInt
  created_by_id          BigInt
  topic_id               BigInt
  api_teachingassignment api_teachingassignment @relation(fields: [assignment_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_topicprogressrep_assignment_id_4d389ea1_fk_api_teach")
  api_user               api_user               @relation(fields: [created_by_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_topicprogressreport_created_by_id_7367664a_fk_api_user_id")
  api_topic              api_topic              @relation(fields: [topic_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_topicprogressreport_topic_id_1a6d2cab_fk_api_topic_id")

  @@unique([assignment_id, topic_id], map: "api_topicprogressreport_assignment_id_topic_id_7480a62c_uniq")
  @@index([assignment_id], map: "api_topicpr_assignm_72bb66_idx")
  @@index([status], map: "api_topicpr_status_e99ccf_idx")
  @@index([topic_id], map: "api_topicpr_topic_i_e1ad7c_idx")
  @@index([assignment_id], map: "api_topicprogressreport_assignment_id_4d389ea1")
  @@index([created_by_id], map: "api_topicprogressreport_created_by_id_7367664a")
  @@index([topic_id], map: "api_topicprogressreport_topic_id_1a6d2cab")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_unit {
  id                         BigInt                       @id @default(autoincrement())
  number                     Int
  title                      String                       @db.VarChar(200)
  description                String
  subject_id                 BigInt
  api_topic                  api_topic[]
  api_subject                api_subject                  @relation(fields: [subject_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_unit_subject_id_14ce7420_fk_api_subject_id")
  api_unitcombinationsubject api_unitcombinationsubject[]

  @@unique([subject_id, number], map: "api_unit_subject_id_number_b7863f90_uniq")
  @@index([subject_id], map: "api_unit_subject_id_14ce7420")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_unitcombinationsubject {
  id                     BigInt                 @id @default(autoincrement())
  term                   String                 @db.VarChar(50)
  sequence               Int
  is_active              Boolean
  created_at             DateTime               @db.Timestamptz(6)
  updated_at             DateTime               @db.Timestamptz(6)
  assigned_by_id         BigInt?
  combination_subject_id BigInt
  unit_id                BigInt
  api_user               api_user?              @relation(fields: [assigned_by_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_unitcombinations_assigned_by_id_0cedc4db_fk_api_user_")
  api_combinationsubject api_combinationsubject @relation(fields: [combination_subject_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_unitcombinations_combination_subject__34d45151_fk_api_combi")
  api_unit               api_unit               @relation(fields: [unit_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_unitcombinationsubject_unit_id_ecc6cd8c_fk_api_unit_id")

  @@unique([unit_id, combination_subject_id], map: "api_unitcombinationsubje_unit_id_combination_subj_4b103805_uniq")
  @@index([assigned_by_id], map: "api_unitcombinationsubject_assigned_by_id_0cedc4db")
  @@index([combination_subject_id], map: "api_unitcombinationsubject_combination_subject_id_34d45151")
  @@index([unit_id], map: "api_unitcombinationsubject_unit_id_ecc6cd8c")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model api_user {
  id                                            BigInt                             @id @default(autoincrement())
  password                                      String                             @db.VarChar(128)
  last_login                                    DateTime?                          @db.Timestamptz(6)
  is_superuser                                  Boolean
  username                                      String                             @unique @db.VarChar(150)
  first_name                                    String?                            @db.VarChar(150)
  email                                         String?                            @unique(map: "api_user_email_9ef5afa6_uniq") @db.VarChar(254)
  is_staff                                      Boolean
  is_active                                     Boolean
  date_joined                                   DateTime                           @db.Timestamptz(6)
  dob                                           String?                            @db.VarChar(50)
  email1                                        String?                            @unique @db.VarChar(254)
  gender                                        String                             @db.VarChar(1)
  image_url                                     String                             @db.VarChar(100)
  middle_name                                   String?                            @db.VarChar(150)
  phone                                         String?                            @unique @db.VarChar(30)
  phone1                                        String?                            @unique @db.VarChar(30)
  reg_number                                    String?                            @unique @db.VarChar(50)
  rwandan_name                                  String?                            @db.VarChar(150)
  is_alumni                                     Boolean
  is_crc                                        Boolean
  is_librarian                                  Boolean
  is_mama                                       Boolean
  is_student                                    Boolean
  is_teacher                                    Boolean
  api_department                                api_department[]
  api_departmentmembership                      api_departmentmembership[]
  api_eapattendance                             api_eapattendance[]
  api_employment                                api_employment[]
  api_event                                     api_event[]
  api_family                                    api_family[]
  api_incidentnote                              api_incidentnote[]
  api_issue_book                                api_issue_book[]
  api_kid                                       api_kid?
  api_kidleap                                   api_kidleap[]
  api_leap                                      api_leap[]
  api_message_api_message_receiver_idToapi_user api_message[]                      @relation("api_message_receiver_idToapi_user")
  api_message_api_message_sender_idToapi_user   api_message[]                      @relation("api_message_sender_idToapi_user")
  api_opportunity                               api_opportunity[]
  api_programabsenteestudent                    api_programabsenteestudent[]
  api_programactivityreport                     api_programactivityreport[]
  api_programadditionalevent                    api_programadditionalevent[]
  api_programplannedactivity                    api_programplannedactivity[]
  api_programreflection                         api_programreflection[]
  api_programweeklyreport                       api_programweeklyreport[]
  api_rsvp                                      api_rsvp[]
  api_teachingassignment                        api_teachingassignment[]
  api_topicprogressreport                       api_topicprogressreport[]
  api_unitcombinationsubject                    api_unitcombinationsubject[]
  api_user_groups                               api_user_groups[]
  api_user_user_permissions                     api_user_user_permissions[]
  api_weeklyteacherreport                       api_weeklyteacherreport[]
  django_admin_log                              django_admin_log[]
  token_blacklist_outstandingtoken              token_blacklist_outstandingtoken[]

  @@index([email1], map: "api_user_email1_c75b0a3d_like")
  @@index([email], map: "api_user_email_9ef5afa6_like")
  @@index([phone1], map: "api_user_phone1_7219df8a_like")
  @@index([phone], map: "api_user_phone_e22f480c_like")
  @@index([reg_number], map: "api_user_reg_number_b5619309_like")
  @@index([username], map: "api_user_username_cf4e88d2_like")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_user_groups {
  id         BigInt     @id @default(autoincrement())
  user_id    BigInt
  group_id   Int
  auth_group auth_group @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_user_groups_group_id_3af85785_fk_auth_group_id")
  api_user   api_user   @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_user_groups_user_id_a5ff39fa_fk_api_user_id")

  @@unique([user_id, group_id], map: "api_user_groups_user_id_group_id_9c7ddfb5_uniq")
  @@index([group_id], map: "api_user_groups_group_id_3af85785")
  @@index([user_id], map: "api_user_groups_user_id_a5ff39fa")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_user_user_permissions {
  id              BigInt          @id @default(autoincrement())
  user_id         BigInt
  permission_id   Int
  auth_permission auth_permission @relation(fields: [permission_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_user_user_permis_permission_id_305b7fea_fk_auth_perm")
  api_user        api_user        @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_user_user_permissions_user_id_f3945d65_fk_api_user_id")

  @@unique([user_id, permission_id], map: "api_user_user_permissions_user_id_permission_id_a06dd704_uniq")
  @@index([permission_id], map: "api_user_user_permissions_permission_id_305b7fea")
  @@index([user_id], map: "api_user_user_permissions_user_id_f3945d65")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_weeklyhodreport {
  id                     BigInt           @id @default(autoincrement())
  week_start             DateTime         @db.Date
  week_end               DateTime         @db.Date
  week_number            Int
  collaboration_teamwork String
  hod_notes_reflections  String
  submitted_at           DateTime         @db.Timestamptz(6)
  academic_year_id       BigInt
  department_id          BigInt
  api_academicyear       api_academicyear @relation(fields: [academic_year_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_weeklyhodreport_academic_year_id_34c97c30_fk_api_acade")
  api_department         api_department   @relation(fields: [department_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_weeklyhodreport_department_id_4feeef7e_fk_api_department_id")

  @@unique([academic_year_id, week_start, department_id], map: "api_weeklyhodreport_academic_year_id_week_st_c8f08ae8_uniq")
  @@index([academic_year_id, week_start], map: "api_weeklyh_academi_37b6a4_idx")
  @@index([department_id, week_start], map: "api_weeklyh_departm_49b288_idx")
  @@index([week_number], map: "api_weeklyh_week_nu_21feb9_idx")
  @@index([academic_year_id], map: "api_weeklyhodreport_academic_year_id_34c97c30")
  @@index([department_id], map: "api_weeklyhodreport_department_id_4feeef7e")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model api_weeklyteacherreport {
  id                     BigInt                   @id @default(autoincrement())
  week_start             DateTime                 @db.Date
  week_end               DateTime                 @db.Date
  week_number            Int
  other_notes            String
  submitted_at           DateTime                 @db.Timestamptz(6)
  academic_year_id       BigInt
  teacher_id             BigInt
  api_assessmentstat     api_assessmentstat[]
  api_homeroomactionitem api_homeroomactionitem[]
  api_incidentnote       api_incidentnote[]
  api_notebookcheck      api_notebookcheck[]
  api_academicyear       api_academicyear         @relation(fields: [academic_year_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_weeklyteacherrep_academic_year_id_abe705f3_fk_api_acade")
  api_user               api_user                 @relation(fields: [teacher_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "api_weeklyteacherreport_teacher_id_4439f74e_fk_api_user_id")

  @@unique([academic_year_id, week_start, teacher_id], map: "api_weeklyteacherreport_academic_year_id_week_st_6b74701c_uniq")
  @@index([academic_year_id, week_start], map: "api_weeklyt_academi_2bfd8f_idx")
  @@index([teacher_id, week_start], map: "api_weeklyt_teacher_d3133a_idx")
  @@index([week_number], map: "api_weeklyt_week_nu_cedfa0_idx")
  @@index([academic_year_id], map: "api_weeklyteacherreport_academic_year_id_abe705f3")
  @@index([teacher_id], map: "api_weeklyteacherreport_teacher_id_4439f74e")
}

model auth_group {
  id                     Int                      @id @default(autoincrement())
  name                   String                   @unique @db.VarChar(150)
  api_user_groups        api_user_groups[]
  auth_group_permissions auth_group_permissions[]

  @@index([name], map: "auth_group_name_a6ea08ec_like")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model auth_group_permissions {
  id              BigInt          @id @default(autoincrement())
  group_id        Int
  permission_id   Int
  auth_permission auth_permission @relation(fields: [permission_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm")
  auth_group      auth_group      @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id")

  @@unique([group_id, permission_id], map: "auth_group_permissions_group_id_permission_id_0cd325b0_uniq")
  @@index([group_id], map: "auth_group_permissions_group_id_b120cbf9")
  @@index([permission_id], map: "auth_group_permissions_permission_id_84c5c92e")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model auth_permission {
  id                        Int                         @id @default(autoincrement())
  name                      String                      @db.VarChar(255)
  content_type_id           Int
  codename                  String                      @db.VarChar(100)
  api_user_user_permissions api_user_user_permissions[]
  auth_group_permissions    auth_group_permissions[]
  django_content_type       django_content_type         @relation(fields: [content_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "auth_permission_content_type_id_2f476e4b_fk_django_co")

  @@unique([content_type_id, codename], map: "auth_permission_content_type_id_codename_01ab375a_uniq")
  @@index([content_type_id], map: "auth_permission_content_type_id_2f476e4b")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model django_admin_log {
  id                  Int                  @id @default(autoincrement())
  action_time         DateTime             @db.Timestamptz(6)
  object_id           String?
  object_repr         String               @db.VarChar(200)
  action_flag         Int                  @db.SmallInt
  change_message      String
  content_type_id     Int?
  user_id             BigInt
  django_content_type django_content_type? @relation(fields: [content_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "django_admin_log_content_type_id_c4bce8eb_fk_django_co")
  api_user            api_user             @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "django_admin_log_user_id_c564eba6_fk_api_user_id")

  @@index([content_type_id], map: "django_admin_log_content_type_id_c4bce8eb")
  @@index([user_id], map: "django_admin_log_user_id_c564eba6")
}

model django_content_type {
  id               Int                @id @default(autoincrement())
  app_label        String             @db.VarChar(100)
  model            String             @db.VarChar(100)
  auth_permission  auth_permission[]
  django_admin_log django_admin_log[]

  @@unique([app_label, model], map: "django_content_type_app_label_model_76bd3d3b_uniq")
}

model django_migrations {
  id      BigInt   @id @default(autoincrement())
  app     String   @db.VarChar(255)
  name    String   @db.VarChar(255)
  applied DateTime @db.Timestamptz(6)
}

model django_session {
  session_key  String   @id @db.VarChar(40)
  session_data String
  expire_date  DateTime @db.Timestamptz(6)

  @@index([expire_date], map: "django_session_expire_date_a5c62663")
  @@index([session_key], map: "django_session_session_key_c0390e0f_like")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model token_blacklist_blacklistedtoken {
  id                               BigInt                           @id @default(autoincrement())
  blacklisted_at                   DateTime                         @db.Timestamptz(6)
  token_id                         BigInt                           @unique
  token_blacklist_outstandingtoken token_blacklist_outstandingtoken @relation(fields: [token_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "token_blacklist_blacklistedtoken_token_id_3cc7fe56_fk")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model token_blacklist_outstandingtoken {
  id                               BigInt                            @id @default(autoincrement())
  token                            String
  created_at                       DateTime?                         @db.Timestamptz(6)
  expires_at                       DateTime                          @db.Timestamptz(6)
  user_id                          BigInt?
  jti                              String                            @unique(map: "token_blacklist_outstandingtoken_jti_hex_d9bdf6f7_uniq") @db.VarChar(255)
  token_blacklist_blacklistedtoken token_blacklist_blacklistedtoken?
  api_user                         api_user?                         @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "token_blacklist_outs_user_id_83bc629a_fk_api_user_")

  @@index([jti], map: "token_blacklist_outstandingtoken_jti_hex_d9bdf6f7_like")
  @@index([user_id], map: "token_blacklist_outstandingtoken_user_id_83bc629a")
}
